{
  "operation": "Drop nth bytes",
  "category": "utils",
  "description": "Test Drop nth bytes operation for removing every nth byte from data",
  "tests": [
    {
      "name": "drop_every_second_byte",
      "comment": "Drop every 2nd byte starting from position 0",
      "input": {"type": "bytes", "encoding": "hex", "value": "4142434445464748"},
      "operations": [{"op": "Drop nth bytes", "args": [2, 0, false]}],
      "expected": {"type": "string", "value": "BCDFH"},
      "tags": ["drop_nth", "basic"]
    },
    {
      "name": "drop_every_third_byte",
      "comment": "Drop every 3rd byte starting from position 0",
      "input": {"type": "bytes", "encoding": "hex", "value": "4142434445464748494a"},
      "operations": [{"op": "Drop nth bytes", "args": [3, 0, false]}],
      "expected": {"type": "string", "value": "BCEFHIJ"},
      "tags": ["drop_nth", "basic"]
    },
    {
      "name": "drop_every_fourth_byte_offset_1",
      "comment": "Drop every 4th byte starting from position 1",
      "input": {"type": "bytes", "encoding": "hex", "value": "4142434445464748494a4b4c"},
      "operations": [{"op": "Drop nth bytes", "args": [4, 1, false]}],
      "expected": {"type": "string", "value": "ACDEGIKL"},
      "tags": ["drop_nth", "offset"]
    },
    {
      "name": "drop_every_second_byte_per_line",
      "comment": "Drop every 2nd byte from each line independently",
      "input": {"type": "bytes", "encoding": "hex", "value": "414243440a45464748"},
      "operations": [{"op": "Drop nth bytes", "args": [2, 0, true]}],
      "expected": {"type": "string", "value": "BCD\nFGH"},
      "tags": ["drop_nth", "per_line"]
    },
    {
      "name": "drop_nth_empty_input",
      "comment": "Drop nth bytes from empty input",
      "input": {"type": "bytes", "encoding": "hex", "value": ""},
      "operations": [{"op": "Drop nth bytes", "args": [2, 0, false]}],
      "expected": {"type": "string", "value": ""},
      "tags": ["drop_nth", "edge_case"]
    },
    {
      "name": "drop_every_byte_larger_than_input",
      "comment": "Drop every 10th byte when input is smaller",
      "input": {"type": "bytes", "encoding": "hex", "value": "414243"},
      "operations": [{"op": "Drop nth bytes", "args": [10, 0, false]}],
      "expected": {"type": "string", "value": "BC"},
      "tags": ["drop_nth", "edge_case"]
    }
  ]
}
